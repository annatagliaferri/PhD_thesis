%*******************************************************
% LANGUAGE
%*******************************************************
\usepackage[utf8]{inputenc} 
\usepackage[T1]{fontenc}                            % Font encoding
\usepackage[english,italian,german]{babel}                 % Language selection

%*******************************************************
% MARGINS & PAGE LAYOUT
%*******************************************************
\usepackage[margin=1.25in]{geometry}                % Page margins
\usepackage{fancyhdr}                               % Custom headers/footers
\fancypagestyle{thesis}{
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{} 
\fancyhead[RO]{\footnotesize{\nouppercase{\rightmark}\hspace{0.25in}\textbf{\thepage}}}
\fancyhead[LE]{\footnotesize{\textbf{\thepage}\hspace{0.25in}\nouppercase{\leftmark}}}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
}

% Headers for the introduction
\fancypagestyle{intro}{
\pagestyle{fancy}
\fancyhead{}
\fancyfoot{} 
\fancyhead[RE]{\footnotesize{\nouppercase{Introduzione}\hspace{0.25in}\textbf{\thepage}}}
\fancyhead{}
\fancyhead[LO]{\footnotesize{\textbf{\thepage}\hspace{0.25in}\nouppercase{Introduction}}}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
}

% No headers and footers in empty pages and the end of the chapters
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
\hbox{}
\thispagestyle{empty}
\newpage
\if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother

\pagestyle{thesis}

%*******************************************************
% LINE-SPACING
%*******************************************************
\usepackage{setspace}
\linespread{1.3}

%*******************************************************
% MATHEMATICAL & SYMBOL PACKAGES
%*******************************************************
\usepackage{amssymb, amsfonts, amsmath, bm}          % Math symbols and fonts
\usepackage{siunitx}                                 % SI units
\usepackage{textcomp, gensymb}                       % Additional symbols
\usepackage{wasysym}                                 % Extra symbols
\usepackage[version=4]{mhchem}                       % Chemical formulas

\newtheorem*{remark}{Remark}

%*******************************************************
% TABLES & FIGURES
%*******************************************************
\usepackage{graphicx, rotating, adjustbox, placeins} % Graphics & placement
\usepackage{tabularx, booktabs, multirow, longtable, makecell} % Tables
\usepackage{subfig}                                  % Sub-figures
\usepackage[font={small}]{caption}                  % Caption formatting
\usepackage{float}

%*******************************************************
% CODE LISTINGS
%*******************************************************
\usepackage{listings}                                % Code formatting
\lstset{basicstyle=\footnotesize, numbers=left, numberstyle=\tiny, numbersep=8pt, frame=single}

%*******************************************************
% TEXT & DOCUMENT UTILITIES
%*******************************************************
\usepackage{xspace, url, comment, textgreek}        % Misc utilities
\usepackage[gen]{eurosym}                           % Euro symbol
\usepackage{soul, xcolor}                           % Text highlighting & colors

%*******************************************************
% TITLES & HEADINGS
%*******************************************************
\usepackage{titlesec}
\titleformat{\chapter}[display]
  {\bfseries\Large}
  {\filright\MakeUppercase{\chaptertitlename} \LARGE\thechapter}
  {1ex}
  {\titlerule\vspace{1ex}\filleft}
  [\vspace{1ex}\titlerule]

%*******************************************************
% BIBLIOGRAPHY
%*******************************************************
\usepackage[round]{natbib}                          % Bibliography formatting

%*******************************************************
% HYPERLINKS & REFERENCES
%*******************************************************
\usepackage{hyperref}                               % Hyperlinks in document
\hypersetup{
    colorlinks=false,
    linktocpage=true,
    pdfborder={0 0 0},
    pdfstartview=FitV,
    bookmarksopen=true,
    bookmarksnumbered,
    breaklinks=true,
    linkcolor=Black,
    citecolor=Black,
    urlcolor=Black
}

%*******************************************************
% GLOSSARY & LIST OF SYMBOLS
%*******************************************************
\usepackage{nomencl}                             % Nomenclature

%*******************************************************
% TODO LIST
%*******************************************************

\newlist{todolist}{itemize}{2}
\setlist[todolist]{label=$\square$}
\usepackage{pifont}
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\newcommand{\done}{\rlap{$\square$}{\raisebox{2pt}{\large\hspace{1pt}\cmark}}%
\hspace{-2.5pt}}
\newcommand{\wontfix}{\rlap{$\square$}{\large\hspace{1pt}\xmark}}

%*******************************************************
% MACROS
%*******************************************************
\newcommand{\rosso}[1]{\textcolor{red}{#1}}
\newcommand{\AT}[1]{\textcolor{Fuchsia}{#1}}
\newcommand{\note}[1]{\textcolor{teal}{#1}}

\newcommand{\ids}{\ensuremath{\mathrm{I_{DS}}}}
\newcommand{\igs}{\ensuremath{\mathrm{I_{GS}}}}
\newcommand{\vds}{\ensuremath{\mathrm{V_{DS}}}}
\newcommand{\vgs}{\ensuremath{\mathrm{V_{GS}}}}
\newcommand{\vth}{\ensuremath{\mathrm{V_{TH}}}}
\newcommand{\rds}{\ensuremath{\mathrm{R_{DS}}}}

\newcommand{\ion}{\ensuremath{\mathrm{I_{ON}}}}
\newcommand{\ionzero}{\ensuremath{\mathrm{I_{0\,ON}}}}
\newcommand{\ioff}{\ensuremath{\mathrm{I_{OFF}}}}
\newcommand{\norm}{\ion/\ionzero}
\newcommand{\ratio}{\ion/\ioff}
\newcommand{\rsq}{\ensuremath{R^2}}

\newcommand{\ra}{$\rightarrow$}
\newcommand{\eg}{e.g., }
\newcommand{\ie}{i.e., }
\newcommand{\vv}[1]{``{#1}''}

\newcommand{\amm}{$\mathrm{NH_4^+}$}
\newcommand{\di}{\ce{diH2O}}
